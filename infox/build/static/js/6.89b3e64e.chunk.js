(this.webpackJsonpinfox=this.webpackJsonpinfox||[]).push([[6],{361:function(t,e,s){},429:function(t,e,s){"use strict";s.r(e);var c=s(13),a=s(14),n=s(15),i=s(16),r=s(0),l=s.n(r),d=s(11),o=s(12),j=s(19),h=s(18),b=s(39),x=s(1),m=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).loadData=function(){j.a.get("/quotation/quick/".concat(a.props.match.params.id)).then((function(t){a.setState({quotation:JSON.parse(t.data.blob)})})).catch((function(t){var e=a.state.quotation;e.prepared_by=a.context.profile,a.setState({action:"add",quotation:e})}))},a.saveForm=function(t){if(t.preventDefault(),!1===a.state.edit)if(a.state.quotation.total>0){var e=a.state.quotation;j.a.post("/quotation/quick/".concat(a.props.match.params.id,"?action=").concat(a.state.action),e).then((function(t){h.b.success("Saved"),a.props.history.replace("/quotation/draft")})).catch((function(t){h.b.fail()}))}else h.b.fail("Add data First");else h.b.fail("First Save the Row ")},a.goBack=function(){a.props.history.goBack()},a.addRow=function(){var t=a.state.quotation,e=t.items,s=[];e.length>0&&(s=e.map((function(t){return t.edit=!1,t})));s.push({code:"",name:"",rate:0,qty:0,edit:!0,amount:0}),t.items=s,a.setState({quotation:t,edit:!0})},a.editRow=function(t){var e=a.state.quotation,s=e.items;s.map((function(t){return t.edit=!1,t}))[t].edit=!0,a.setState({quotation:e,editor:s[t],edit:!0})},a.saveRow=function(t){var e=a.state.editor;e.amount=(e.qty*e.rate).toFixed(2);var s=a.state.quotation,c=s.items.map((function(t){return t.edit=!1,t}));c[t]=JSON.parse("".concat(JSON.stringify(e))),c[t].edit=!1,s.items=c,s.total=c.reduce((function(t,e){return t+e.qty*e.rate}),0).toFixed(2),s.discount_amount=(parseFloat(s.total)*(parseFloat(s.discount)/100)).toFixed(2),a.setState({quotation:s,editor:{code:"",name:"",rate:0,qty:0,edit:!0},edit:!1})},a.delRow=function(t){var e=a.state.quotation;e.items.splice(t,1),a.setState({quotation:e,editor:{code:"",name:"",rate:0,qty:0,edit:!0},edit:!1})},a.onRowInput=function(t){var e=a.state.editor;e[t.target.getAttribute("name")]=t.target.value,a.setState({editor:e})},a.onChangeInput=function(t){var e=a.state.quotation;"discount"===t.target.getAttribute("name")&&(""===t.target.value?(e.discount=0,e.discount_amount=0):(e.discount=t.target.value,e.discount_amount=(parseFloat(a.state.quotation.total)*(parseFloat(t.target.value)/100)).toFixed(2))),"shipping_charge"===t.target.getAttribute("name")?""===t.target.value?e.shipping_charge=0:e.shipping_charge=parseInt(t.target.value):e[t.target.getAttribute("name")]=t.target.value,a.setState({quotation:e})},a.onFoucus_file=function(t){if(""===t.target.value){var e=a.state.quotation;e[t.target.getAttribute("name")]="_".concat(a.context.profile.u_name,"_").concat((new Date).toLocaleString()),a.setState({quotation:e}),t.target.setSelectionRange(0,0)}},a.adjustHeight=function(t){t.target.style.height="inherit",t.target.style.height="".concat(t.target.scrollHeight,"px")},a.fetch_product=function(t){j.a.get("/quotation/pcode/".concat(t)).then((function(t){var e={code:t.data.p_code,name:"".concat(t.data.p_reference," ").concat(t.data.p_description),rate:t.data.p_price,qty:1,edit:!0};a.setState({editor:e})})).catch((function(t){h.b.fail()}))},a.state={action:"edit",quotation:{date:"",validity:"",items:[],party_name:"",party_address:"",party_phone:"",file_name:"",firm:"",total:0,discount:0,discount_amount:0,shipping_charge:0,additional_information:"",prepared_by:""},editor:{code:"",name:"",rate:0,qty:0,edit:!0,amount:0},edit:!1},a}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this.state.quotation;t.prepared_by=this.context.profile,"new"===this.props.match.params.id?this.setState({action:"add",quotation:t}):this.loadData()}},{key:"render",value:function(){var t=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:Object(x.jsxs)("h4",{children:[Object(x.jsx)("button",{onClick:this.goBack,className:"btn btn-link btn-lg",children:Object(x.jsx)("i",{className:"fa fa-arrow-left"})}),"Quotation Editor"]})}),Object(x.jsx)("form",{className:"row justify-content-center",onSubmit:this.saveForm,children:Object(x.jsxs)("div",{className:"card shadow col-xl-10",children:[Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("label",{className:"col-6 d-flex align-items-center justify-content-center",children:Object(x.jsx)("b",{children:"File Name"})}),Object(x.jsx)("div",{className:"col-6",children:Object(x.jsx)("input",{type:"text",value:this.state.quotation.file_name,onChange:this.onChangeInput,name:"file_name",required:!0,className:"form-control",autoFocus:!0,onFocus:this.onFoucus_file})})]}),Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("label",{className:"col-6 d-flex align-items-center justify-content-center",children:Object(x.jsx)("b",{children:"Choose Firm"})}),Object(x.jsx)("div",{className:"col-6",children:Object(x.jsxs)("select",{name:"firm",value:this.state.quotation.firm,required:!0,onChange:this.onChangeInput,className:"form-control",children:[Object(x.jsx)("option",{value:"",disabled:!0,children:"choose"}),Object(x.jsx)("option",{value:"dream_india",children:"Dream India School Aid"}),Object(x.jsx)("option",{value:"dream_india_tl",children:"Dream India Trade Links"}),Object(x.jsx)("option",{value:"dream_india_vns",children:"VNS School"}),Object(x.jsx)("option",{value:"dream_india_vt",children:"VT School Land"})]})})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-8",children:Object(x.jsxs)("div",{className:"col-md-10",children:[Object(x.jsx)("h5",{children:"Bill To"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("input",{type:"text",required:!0,value:this.state.quotation.party_name,name:"party_name",onChange:this.onChangeInput,className:"form-control form-control-sm border-0 mb-1",placeholder:"Name"}),Object(x.jsx)("textarea",{type:"text",required:!0,value:this.state.quotation.party_address,name:"party_address",onChange:this.onChangeInput,onInput:this.adjustHeight,onLoad:this.adjustHeight,className:"form-control form-control-sm border-0 mb-1",style:{overflow:"hidden"},rows:"4",placeholder:"Address"}),Object(x.jsx)("input",{type:"text",value:this.state.quotation.party_phone,name:"party_phone",onChange:this.onChangeInput,className:"form-control form-control-sm border-0 mb-1",placeholder:"Phone"})]})]})}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("h5",{children:"\xa0"}),Object(x.jsx)("table",{className:"table table-bordered table-sm tex-center",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Quotation No. "}),Object(x.jsx)("td",{className:"text-center",children:"Auto"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Date "}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{required:!0,className:"form-control form-control-sm border-0",type:"date",value:this.state.quotation.date,name:"date",onChange:this.onChangeInput})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Validity "}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{required:!0,className:"form-control form-control-sm border-0",type:"date",value:this.state.quotation.validity,name:"validity",onChange:this.onChangeInput})})]})]})})]})]}),Object(x.jsxs)("table",{className:"table table-sm table-bordered text-center table-responsive-sm ",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[!0===this.state.edit?Object(x.jsx)("td",{className:"col-md-1",children:"PCODE"}):null,Object(x.jsx)("th",{className:"col-md-1",children:"SI No."}),Object(x.jsx)("th",{scope:"col",children:"Description"}),Object(x.jsx)("th",{className:"col-md-1",children:"Rate"}),Object(x.jsx)("th",{className:"col-md-1",children:"Quantity"}),Object(x.jsx)("th",{className:"col-md-2",children:"Amount"}),!0===this.state.edit?Object(x.jsx)("th",{className:"col-md-1"}):null]})}),Object(x.jsx)("tbody",{children:this.state.quotation.items.map((function(e,s){if(!0===e.edit){var c=(t.state.editor.qty*t.state.editor.rate).toFixed(2);return Object(x.jsxs)("tr",{children:[!0===t.state.edit?Object(x.jsx)("td",{children:Object(x.jsx)("input",{className:"form-control",autoComplete:"false",type:"text",onChange:t.onRowInput,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),t.fetch_product(t.state.editor.code))},name:"code",value:t.state.editor.code})}):null,Object(x.jsx)("th",{scope:"col",children:Object(x.jsx)("button",{onClick:function(){t.delRow(s)},className:"btn btn-link ml-2",children:Object(x.jsx)("i",{className:"fa fa-trash"})})}),Object(x.jsx)("td",{children:Object(x.jsx)("textarea",{className:"form-control",autoComplete:"false",type:"text",onChange:t.onRowInput,name:"name",value:t.state.editor.name,autoFocus:!0})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{className:"form-control ",type:"number",onKeyDown:function(t){13===t.which&&(t.preventDefault(),document.getElementById("qtyformfiled").focus())},onChange:t.onRowInput,name:"rate",value:t.state.editor.rate})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{maxLength:3,className:"form-control ",id:"qtyformfiled",onKeyDown:function(e){13===e.which&&(e.preventDefault(),t.saveRow(s))},type:"number",onChange:t.onRowInput,name:"qty",value:t.state.editor.qty})}),Object(x.jsxs)("td",{children:["\u20b9 ",c]}),Object(x.jsx)("td",{children:Object(x.jsx)("button",{onClick:function(){t.saveRow(s)},className:"btn btn-success btn-circle btn-sm mr-1",children:Object(x.jsx)("i",{className:"fa fa-save"})})})]},s)}return Object(x.jsxs)("tr",{onClick:function(){t.editRow(s)},children:[!0===t.state.edit?Object(x.jsx)("td",{children:e.code}):null,Object(x.jsx)("th",{scope:"col",children:s+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsxs)("td",{children:["\u20b9 ",parseFloat(e.rate).toFixed(2)]}),Object(x.jsx)("td",{children:e.qty}),Object(x.jsxs)("td",{children:["\u20b9 ",e.amount]}),!0===t.state.edit?Object(x.jsx)("th",{className:"col-md-2"}):null]},s)}))}),Object(x.jsxs)("tfoot",{children:[!1===this.state.edit?Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:!0===this.state.edit?7:5,children:Object(x.jsx)("button",{onClick:this.addRow,className:"btn btn-primary btn-circle btn-sm",children:Object(x.jsx)("i",{className:"fa fa-plus"})})})}):null,Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-right",colSpan:!0===this.state.edit?6:4,children:" Sub Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",this.state.quotation.total," / -"]})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-right",colSpan:!0===this.state.edit?6:4,children:" Discount(%): "}),Object(x.jsx)("th",{children:Object(x.jsx)("input",{type:"number",min:0,max:25,step:.5,onChange:this.onChangeInput,value:this.state.quotation.discount,name:"discount",className:"form-control form-control-sm",size:3,required:!0})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-right",colSpan:!0===this.state.edit?6:4,children:" Discount: "}),Object(x.jsx)("th",{children:this.state.quotation.discount_amount})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-right",colSpan:!0===this.state.edit?6:4,children:" Freight charge : "}),Object(x.jsx)("th",{children:Object(x.jsx)("input",{type:"number",onChange:this.onChangeInput,value:this.state.quotation.shipping_charge,name:"shipping_charge",className:"form-control form-control-sm",required:!0})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-right",colSpan:!0===this.state.edit?6:4,children:" Grand Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",(parseFloat(this.state.quotation.total)-parseFloat(this.state.quotation.discount_amount)+parseFloat(this.state.quotation.shipping_charge)).toFixed(2)," / -"]})]}),Object(x.jsx)("tr",{children:Object(x.jsx)("th",{colSpan:!0===this.state.edit?7:5,children:Object(x.jsx)("textarea",{type:"text",value:this.state.quotation.additional_information,name:"additional_information",onChange:this.onChangeInput,onInput:this.adjustHeight,onLoad:this.adjustHeight,className:"form-control form-control-sm border-0 mb-1",style:{overflow:"hidden"},rows:"4",placeholder:"Additional information"})})})]})]})]}),Object(x.jsx)("div",{className:"card-body text-right",children:Object(x.jsxs)("button",{type:"submit",className:"btn btn-md btn-success",children:[Object(x.jsx)("i",{className:"fa fa-save"})," Save"]})})]})})]})}}]),s}(l.a.Component);m.contextType=b.a;var O=Object(o.h)(m),u=s(53),p=s.n(u),N=s(327),f=s.n(N),g=s(335),v=s.n(g),y=s(339),S=(s(361),function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).loadData=function(){j.a.get("/quotation/preview/".concat(a.props.match.params.id)).then((function(t){a.setState({quotation:JSON.parse(t.data.blob),data:t.data})}))},a.goBack=function(){a.props.history.goBack()},a.print_window=function(){var t=document.getElementById("print-area");p()(t).removeClass("p-5"),window.print()},a.print=function(){var t=document.getElementById("print-area");p()(t).addClass("p-5");var e={margin:.1,filename:a.state.data.name,image:{type:"jpeg",quality:1},pagebreak:{mode:["css","legacy"]},html2canvas:{scale:10},jsPDF:{unit:"in",format:"A4",orientation:"portrait"}};v()().set(e).from(t).save()},a.toWords=new y.ToWords,a.state={quotation:null,no:"",data:[]},a}return Object(a.a)(s,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t=this,e=this.state.quotation;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"d-print-none",children:Object(x.jsxs)("h4",{children:[Object(x.jsx)("button",{onClick:this.goBack,className:"btn btn-link btn-lg",children:Object(x.jsx)("i",{className:"fa fa-arrow-left"})}),"Quotation Preview ",Object(x.jsxs)("button",{onClick:this.print_window,className:"btn btn-sm btn-primary shadow-sm float-right m-1",children:[Object(x.jsx)("i",{className:"fa fa-print"})," Print"]}),Object(x.jsx)("button",{onClick:function(){t.print()},className:"btn btn-sm btn-primary shadow-sm float-right m-1",children:Object(x.jsx)("i",{className:"fa fa-download"})})]})}),Object(x.jsx)("div",{id:"paper",className:"shadow",style:{maxWidth:"297mm"},children:null!==e&&"dream_india"===this.state.data.firm?Object(x.jsxs)("div",{id:"print-area",className:"text-dark bg-white p-5",children:[Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("img",{alt:"header",style:{minWidth:"100%"},src:"".concat("/infox","/img/").concat(this.state.data.firm,".png"),className:"img-fluid"})}),Object(x.jsxs)("div",{className:"row mt-5",children:[Object(x.jsx)("div",{className:"col-md-8",children:Object(x.jsxs)("div",{className:"col-md-10",children:[Object(x.jsx)("h5",{className:"ml-2",children:Object(x.jsx)("b",{children:"To"})}),Object(x.jsxs)("div",{className:"ml-2",children:[Object(x.jsx)("p",{children:e.party_name}),Object(x.jsx)("p",{children:e.party_address.split(/\r?\n/).map((function(t){return Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)("br",{})]})}))}),Object(x.jsx)("p",{children:e.party_phone})]})]})}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("h5",{children:"\xa0"}),Object(x.jsx)("table",{className:"table table-bordered table-sm",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Quotation No. "}),Object(x.jsx)("td",{className:"text-center",children:this.state.data.no})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Date "}),Object(x.jsx)("td",{className:"text-center",children:e.date})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Validity "}),Object(x.jsx)("td",{className:"text-center",children:e.validity})]})]})})]})]}),Object(x.jsxs)("div",{className:"text-center",children:[" ",Object(x.jsx)("h3",{className:"text-uppercase",children:Object(x.jsx)("b",{children:"Quotation"})})]}),Object(x.jsxs)("table",{className:"table table-bordered mt-3 table-md",children:[Object(x.jsx)("thead",{className:"thead-light text-center",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"SINo"}),Object(x.jsx)("th",{children:"Item"}),Object(x.jsx)("th",{children:"Rate"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Amount"})]})}),Object(x.jsx)("tbody",{className:"text-center",children:e.items.map((function(t,e){return Object(x.jsxs)("tr",{className:"",children:[Object(x.jsx)("th",{style:{width:"5%"},children:e+1}),Object(x.jsx)("td",{className:"text-left",style:{width:"55%"},children:t.name}),Object(x.jsx)("td",{style:{width:"10%"},children:t.rate}),Object(x.jsx)("td",{style:{width:"10%"},children:t.qty}),Object(x.jsx)("td",{className:"text-right",style:{width:"20%"},children:t.amount})]})}))}),Object(x.jsxs)("tfoot",{className:"text-right",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Sub Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.total," "]})]}),parseInt(e.discount)>0?Object(x.jsxs)("tr",{children:[Object(x.jsxs)("th",{colSpan:4,children:[" Discount(",e.discount,"%): "]}),Object(x.jsxs)("th",{children:["\u20b9 ",e.discount_amount]})]}):null,parseInt(e.shipping_charge)>0?Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Freight Charge : "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.shipping_charge]})]}):null,Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Grand Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",(parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2)," "]})]})]})]}),Object(x.jsx)("h5",{className:"p p-3",children:e.additional_information}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"WE HOPE YOU WILL FIND OUR ABOVE OFFER SUITABLE AND FAVOUR US WITH YOUR VALUED ORDERS."}),Object(x.jsx)("p",{className:"text-left",children:"THANK YOU FOR YOUR BUSINESS!"})]}),Object(x.jsx)("div",{className:"text-left mb-2",children:Object(x.jsx)(f.a,{size:100,level:"L",value:this.state.data.id})}),Object(x.jsxs)("p",{className:"small text-left",children:["Generated on ",(new Date).toString()," \xa9 Azba india "]})]}):null!==e&&"dream_india_tl"===this.state.data.firm?Object(x.jsxs)("div",{id:"print-area",className:"ditl text-dark bg-white p-5",children:[Object(x.jsxs)("p",{className:"small text-center",style:{fontSize:"6pt"},children:["Generated on ",(new Date).toString()," \xa9 Azba india "]}),Object(x.jsxs)("h3",{className:"bg-gradient-primary p-3 text-white",children:["DREAM INDIA TRADE LINKS",Object(x.jsx)("span",{className:"float-right text-uppercase",children:Object(x.jsx)("i",{children:"Quotation"})})]}),Object(x.jsx)("table",{className:"table text-gray-900 text-lg",children:Object(x.jsxs)("tr",{children:[Object(x.jsxs)("th",{children:["D26, GROUND FLOOR, 62/5011,",Object(x.jsx)("br",{}),"IYYATTIL JUNCTION, HOSPITAL ROAD,",Object(x.jsx)("br",{}),"ERNAKULAM, KERALA - 682011"]}),Object(x.jsxs)("th",{children:["GSTIN  : 32ANFPN2133F2ZI",Object(x.jsx)("br",{}),"PHONE : 09947086528",Object(x.jsx)("br",{}),"E-MAIL : dreamindiatl@gmail.com",Object(x.jsx)("br",{})]})]})}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("table",{className:"table table-bordered table-sm text-gray-900",children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:Object(x.jsxs)("th",{colSpan:2,className:"bg-gradient-primary text-white",children:["\xa0",Object(x.jsx)("b",{children:"To"})]})})}),Object(x.jsx)("tbody",{children:Object(x.jsx)("tr",{children:Object(x.jsxs)("th",{rowSpan:5,children:[Object(x.jsx)("p",{children:e.party_name}),Object(x.jsx)("p",{children:e.party_address.split(/\r?\n/).map((function(t){return Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)("br",{})]})}))}),Object(x.jsx)("p",{children:e.party_phone})]})})})]})}),Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("table",{className:"table table-bordered table-sm text-gray-900",children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:Object(x.jsx)("th",{colSpan:2,className:"bg-gradient-primary",children:"\xa0"})})}),Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"QUOTATION NO. "}),Object(x.jsx)("td",{className:"text-center",children:this.state.data.no})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"QUOTATION DATE "}),Object(x.jsx)("td",{className:"text-center",children:e.date})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"VALID UNTIL "}),Object(x.jsx)("td",{className:"text-center",children:e.validity})]})]})]})})]}),Object(x.jsxs)("table",{className:"table table-bordered mt-3 table-md text-gray-900",children:[Object(x.jsx)("thead",{className:"thead text-center",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-white bg-gradient-primary ",children:"DESCRIPTION OF GOODS / SERVICE"}),Object(x.jsx)("th",{className:"text-white bg-gradient-primary",children:"RATE"}),Object(x.jsx)("th",{className:"text-white bg-gradient-primary",children:"QTY"}),Object(x.jsx)("th",{className:"text-white bg-gradient-primary",children:"AMOUNT"})]})}),Object(x.jsx)("tbody",{className:"text-center",children:e.items.map((function(t,e){return Object(x.jsxs)("tr",{className:"",children:[Object(x.jsx)("td",{className:"text-left",style:{width:"55%"},children:t.name}),Object(x.jsx)("td",{style:{width:"10%"},children:t.rate}),Object(x.jsx)("td",{style:{width:"10%"},children:t.qty}),Object(x.jsx)("td",{className:"text-right",style:{width:"20%"},children:t.amount})]})}))}),Object(x.jsxs)("tfoot",{className:"text-right",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-left",rowSpan:4,children:Object(x.jsxs)("p",{children:["WE WILL PROVIDE YOU THE SAME  SAMPLE ITEMS.",Object(x.jsx)("br",{}),"ALL THE ITEMS SHOWN ABOVE ARE INCLUSIVE OF ALL TAXES.",Object(x.jsx)("br",{}),"WE HAVE COMPLETE RESPONSIBILITY FOR THE ITEMS WE PROVIDE.",Object(x.jsx)("br",{}),"WE WILL DELIVER ALL THE ITEMS IN ONE CENTRE WHICH YOU PREFER.",Object(x.jsx)("br",{})]})}),Object(x.jsx)("th",{className:"bg-gradient-primary text-white",colSpan:2,children:" Total : "}),Object(x.jsxs)("th",{className:"bg-gradient-primary text-white",children:["\u20b9 ",e.total," "]})]}),Object(x.jsxs)("tr",{children:[Object(x.jsxs)("th",{colSpan:2,children:[" Discount(",e.discount,"%): "]}),Object(x.jsxs)("th",{children:["\u20b9 ",e.discount_amount]})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:2,children:" Freight charges: "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.shipping_charge]})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"bg-gradient-primary text-white",colSpan:2,children:" Grand Total : "}),Object(x.jsxs)("th",{className:"bg-gradient-primary text-white",children:["\u20b9 ",(parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2)," "]})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("th",{className:"bg-gradient-primary text-white",colSpan:5,children:["Amount in Words : \xa0",Object(x.jsx)("b",{children:this.toWords.convert((parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2),{currency:!0})})]})})]})]}),Object(x.jsx)("h5",{className:"p p-3",children:e.additional_information}),Object(x.jsxs)("div",{children:['Please Make the Cheque in Favour of "DREAM INDIA TRADE LINKS"',Object(x.jsx)("br",{}),Object(x.jsxs)("p",{style:{textAlign:"right"},children:[Object(x.jsx)("b",{children:"For Dream India Trade Links"})," ",Object(x.jsx)("br",{}),"Authorized Signatory"]})]})]}):null!==e&&"dream_india_vns"===this.state.data.firm?Object(x.jsx)("div",{id:"print-area",className:"text-dark bg-white p-5",children:Object(x.jsxs)("div",{className:"vns",children:[Object(x.jsxs)("div",{style:{minHeight:"25px"},children:[Object(x.jsx)("span",{className:"float-left h5",children:" MOB : 9188571354"}),Object(x.jsx)("span",{className:"float-right h5",children:"GSTIN: 32DKCPS4689Q1Z8"})]}),Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{className:"h1",children:"V.N.S SCHOOL ALL IN SHOP"}),"(Dealers in Books, Lab, Sports & Teaching Aids)",Object(x.jsx)("hr",{}),Object(x.jsx)("h5",{children:"KANJIRAPPALLY P.O, KANJIRAPPALLY-686507-Kottayam Dist-Kerala "}),"E-MAIL:vnskerala@gmail.com"]}),Object(x.jsx)("table",{className:"table  table-bordered table-sm",children:Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{width:"65%",className:"p-3",children:[Object(x.jsx)("i",{children:"BILL TO"}),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:e.party_name}),Object(x.jsx)("br",{}),e.party_address.split(/\r?\n/).map((function(t){return Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)("br",{})]})})),Object(x.jsx)("br",{}),e.party_phone,Object(x.jsx)("br",{})]}),Object(x.jsx)("td",{className:"text-center",children:Object(x.jsx)("table",{className:"table borderless",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"DATE :-"}),Object(x.jsx)("td",{children:e.date})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"QT. NO :-"}),Object(x.jsxs)("td",{children:[" ",this.state.data.no]})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"VALIDITY UNTIL :-"}),Object(x.jsxs)("td",{children:[" ",e.validity]})]})]})})})]})})}),Object(x.jsxs)("div",{className:"text-center",children:[" ",Object(x.jsx)("h3",{className:"text-uppercase",children:Object(x.jsx)("b",{children:"Quotation"})})]}),Object(x.jsxs)("table",{className:"table table-bordered mt-3 table-md",children:[Object(x.jsx)("thead",{className:"thead-light text-center text-uppercase",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"SINo"}),Object(x.jsx)("th",{children:"ITEM NAME"}),Object(x.jsx)("th",{children:"Rate"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Amount"})]})}),Object(x.jsx)("tbody",{className:"text-center",children:e.items.map((function(t,e){return Object(x.jsxs)("tr",{className:"",children:[Object(x.jsx)("th",{style:{width:"5%"},children:e+1}),Object(x.jsx)("td",{className:"text-left",style:{width:"55%"},children:t.name}),Object(x.jsx)("td",{style:{width:"10%"},children:t.rate}),Object(x.jsx)("td",{style:{width:"10%"},children:t.qty}),Object(x.jsx)("td",{className:"text-right",style:{width:"20%"},children:t.amount})]})}))}),Object(x.jsxs)("tfoot",{className:"text-right",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Sub Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.total," "]})]}),parseInt(e.discount)>0?Object(x.jsxs)("tr",{children:[Object(x.jsxs)("th",{colSpan:4,children:[" Discount(",e.discount,"%): "]}),Object(x.jsxs)("th",{children:["\u20b9 ",e.discount_amount]})]}):null,parseInt(e.shipping_charge)>0?Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Freight Charge : "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.shipping_charge]})]}):null,Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Grand Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",(parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2)," "]})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("th",{className:"text-left",colSpan:5,children:["Amount in Words : \xa0",this.toWords.convert((parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2),{currency:!0})]})})]})]}),Object(x.jsx)("h5",{className:"p p-3",children:e.additional_information}),Object(x.jsx)("p",{children:"WE HOPE YOU WILL FIND OUR ABOVE OFFER SUITABLE AND FAVOUR US WITH YOUR VALUED ORDERS."}),Object(x.jsxs)("div",{children:[Object(x.jsx)("u",{children:Object(x.jsx)("b",{children:"TERMS & CONDITIONS"})}),Object(x.jsx)("br",{}),"* WE WILL DELIVER ALL THE ITEMS IN ONE CENTRE WHICH YOU PREFER",Object(x.jsx)("br",{}),"* WE WILL PROVIDE YOU THE SAME SAMPLE ITEMS",Object(x.jsx)("br",{}),"* PAYMENT:- 100% AGAINST DELIVERY OF MATERIALS.",Object(x.jsx)("br",{}),"* WE HAVE COMPLETE RESPONSIBILITY FOR THE ITEMS WE PROVIDE",Object(x.jsx)("br",{}),"*IT IS YOUR RESPONSIBILITY TO CHECK THE ITEMS DURING THE TIME OF DELIVERY",Object(x.jsx)("br",{}),"*ALL DISPUTES ARE SUBJECT TO KANJIRAPALLY JURIDICTION",Object(x.jsx)("br",{})]}),Object(x.jsxs)("p",{style:{fontSize:"7pt"},className:"p-1 small text-center",children:["Generated on ",(new Date).toString()," \xa9 Azba india "]})]})}):null!==e&&"dream_india_vt"===this.state.data.firm?Object(x.jsx)("div",{id:"print-area",className:"text-dark bg-white p-5",children:Object(x.jsxs)("div",{className:"vns",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-6 font-italic",children:"GSTIN: 32BHHPA4275Q1Z4"}),Object(x.jsxs)("div",{className:"col-6 text-right font-italic",children:[" Phone: 04828-205354 ",Object(x.jsx)("br",{}),"Mob: 09747177280"]})]}),Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)("h1",{className:"text-success",children:"V.T. SCHOOL LAND & PUBLISHERS"}),Object(x.jsxs)("p",{children:["Near Post Office Anakkallu, ANAKKALLU P.O -686508,Kottayam Dist Kerala",Object(x.jsx)("br",{}),"E-MAIL:vtskerala@gmail.com"]}),Object(x.jsx)("hr",{className:"new2"})]}),Object(x.jsxs)("table",{className:"table  table-bordered table-sm text-gray-900 ",children:[Object(x.jsx)("tbody",{children:Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{colSpan:6,className:"p-3",children:[Object(x.jsx)("i",{children:"BILL TO"}),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:e.party_name}),Object(x.jsx)("br",{}),e.party_address.split(/\r?\n/).map((function(t){return Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)("br",{})]})})),Object(x.jsx)("br",{}),e.party_phone,Object(x.jsx)("br",{})]})})}),Object(x.jsx)("tfoot",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"col-2 text-right",children:"QT. NO :"}),Object(x.jsxs)("td",{children:[" ",this.state.data.no]}),Object(x.jsx)("th",{className:"col-2 text-right",children:"DATE :"}),Object(x.jsx)("td",{children:e.date}),Object(x.jsx)("th",{className:"col-2 text-right",children:"VALID UNTIL :"}),Object(x.jsxs)("td",{children:[" ",e.validity]})]})})]}),Object(x.jsxs)("div",{className:"text-center",children:[" ",Object(x.jsx)("h3",{className:"text-uppercase",children:Object(x.jsx)("b",{children:"Quotation"})})]}),Object(x.jsxs)("table",{className:"table table-bordered mt-3 table-md text-gray-900 ",children:[Object(x.jsx)("thead",{className:"thead-light text-center text-uppercase",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"SINo"}),Object(x.jsx)("th",{children:"ITEM NAME"}),Object(x.jsx)("th",{children:"Rate"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Amount"})]})}),Object(x.jsx)("tbody",{className:"text-center",children:e.items.map((function(t,e){return Object(x.jsxs)("tr",{className:"",children:[Object(x.jsx)("th",{style:{width:"5%"},children:e+1}),Object(x.jsx)("td",{className:"text-left",style:{width:"55%"},children:t.name}),Object(x.jsx)("td",{style:{width:"10%"},children:t.rate}),Object(x.jsx)("td",{style:{width:"10%"},children:t.qty}),Object(x.jsx)("td",{className:"text-right",style:{width:"20%"},children:t.amount})]})}))}),Object(x.jsxs)("tfoot",{className:"text-right",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Sub Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.total," "]})]}),parseInt(e.discount)>0?Object(x.jsxs)("tr",{children:[Object(x.jsxs)("th",{colSpan:4,children:[" Discount(",e.discount,"%): "]}),Object(x.jsxs)("th",{children:["\u20b9 ",e.discount_amount]})]}):null,parseInt(e.shipping_charge)>0?Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Freight Charge : "}),Object(x.jsxs)("th",{children:["\u20b9 ",e.shipping_charge]})]}):null,Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colSpan:4,children:" Grand Total : "}),Object(x.jsxs)("th",{children:["\u20b9 ",(parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2)," "]})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("th",{className:"text-left",colSpan:5,children:["Amount in Words : \xa0",this.toWords.convert((parseFloat(e.total)-parseFloat(e.discount_amount)+parseFloat(e.shipping_charge)).toFixed(2),{currency:!0})]})})]})]}),Object(x.jsx)("h5",{className:"p p-3",children:e.additional_information}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"TERMS & CONDITIONS"}),Object(x.jsx)("br",{}),"* ALL THE ITEMS SHOWN ABOVE ARE INCLUSIVE OF ALL TAXES ",Object(x.jsx)("br",{}),"* WE WILL DELIVER ALL THE ITEMS IN ONE CENTRE WHICH YOU PREFER",Object(x.jsx)("br",{}),"* WE WILL PROVIDE YOU THE SAME SAMPLE ITEMS",Object(x.jsx)("br",{}),"* WE HAVE COMPLETE RESPONSIBILITY FOR THE ITEMS WE PROVIDE",Object(x.jsx)("br",{})]}),Object(x.jsxs)("p",{style:{fontSize:"7pt",position:"fixed",bottom:0,left:0,right:0},className:"p-1 small text-center",children:["Generated on ",(new Date).toString()," \xa9 Azba india "]})]})}):null})]})}}]),s}(l.a.Component)),I=Object(o.h)(S),E=h.a.prompt,w=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).loadData=function(){j.a.get("/quotation/").then((function(t){a.setState({data:t.data})}))},a.state={data:[]},a}return Object(a.a)(s,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t=this.state.data,e=null,s=null,c=null,a=null,n=null,i=null,r=null;return this.state.data.length>0&&(e=t.filter((function(t){return"draft"===t.status})).length,s=t.filter((function(t){return"request"===t.status})).length,c=t.filter((function(t){return"ready"===t.status})).length,a=t.filter((function(t){return"submitted"===t.status})).length,n=t.filter((function(t){return"approved"===t.status})).length,i=t.filter((function(t){return"disposed"===t.status})).length,r=t.filter((function(t){return"disposed"===t.status})).length),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(x.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Quotations "}),Object(x.jsxs)("div",{children:[Object(x.jsxs)(d.c,{className:"btn btn-sm btn-primary shadow-sm mr-1",to:"/quotation/quick/edit/new",children:[Object(x.jsx)("i",{className:"fas fa-plus fa-sm text-white-50"})," Quick"]}),Object(x.jsx)("button",{onClick:this.loadData,className:"btn btn-circle btn-info btn-sm",children:Object(x.jsx)("i",{className:"fa fa-sync"})})]})]}),Object(x.jsxs)("div",{className:"row",children:[e>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-danger shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/draft",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-danger text-uppercase mb-1",children:"Drafts"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:e})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fab fa-firstdraft fa-2x text-gray-300"})})]})})})},"draft_count"):null,s>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-danger shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/request",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-danger text-uppercase mb-1",children:"Requests"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:s})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fas fa-stream fa-2x text-gray-300"})})]})})})},"draft_count"):null,c>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-info shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/ready",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-info text-uppercase mb-1",children:"Ready"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:c})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fab fa-readme fa-2x text-gray-300"})})]})})})},"ready_count"):null,a>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-warning shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/submitted",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-warning text-uppercase mb-1",children:"Submitted"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:a})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fas fa-check fa-2x text-gray-300"})})]})})})},"submitted_count"):null,n>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-success shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/approved",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-success text-uppercase mb-1",children:"Approved"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:n})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fas fa-check-circle fa-2x text-gray-300"})})]})})})},"approved_count"):null,i>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-success shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/approved",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-success text-uppercase mb-1",children:"Disposed"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:i})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fas fa-file fa-2x text-gray-300"})})]})})})},"approved_count"):null,r>0?Object(x.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(x.jsx)("div",{className:"card border-left-success shadow h-100 py-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(x.jsxs)("div",{className:"col mr-2",children:[Object(x.jsx)(d.c,{to:"/quotation/approved",className:"text-decoration-none",children:Object(x.jsx)("div",{className:"text-sm font-weight-bold text-success text-uppercase mb-1",children:"Completed"})}),Object(x.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:r})]}),Object(x.jsx)("div",{className:"col-auto",children:Object(x.jsx)("i",{className:"fas fa-file fa-2x text-gray-300"})})]})})})},"approved_count"):null]})]})}}]),s}(l.a.Component);w=Object(o.h)(w);var A=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).loadData=function(){j.a.get("/quotation/list/".concat(a.action)).then((function(t){a.setState({data:t.data}),window.jQuery("#dataTable").DataTable()}))},a.goBack=function(){a.props.history.goBack()},a.actionStatus=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;j.a.post("/quotation/status/".concat(t,"/").concat(e),{argv:s}).then((function(t){a.loadData()}))},a.action=a.props.action,a.title=a.props.title,a.state={data:[],quotation_no:null},a}return Object(a.a)(s,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:Object(x.jsxs)("h4",{children:[Object(x.jsx)("button",{onClick:this.goBack,className:"btn btn-link btn-lg",children:Object(x.jsx)("i",{className:"fa fa-arrow-left"})}),this.title,Object(x.jsx)("button",{onClick:this.loadData,className:"btn btn-circle btn-info btn-sm float-right",children:Object(x.jsx)("i",{className:"fa fa-sync"})})]})}),this.state.data.length>0?Object(x.jsx)("div",{className:"table-responsive table-responsive-sm",children:Object(x.jsxs)("table",{id:"dataTable",className:"table table-striped",children:[Object(x.jsx)("thead",{className:"thead-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"File Name"}),Object(x.jsx)("th",{children:"Firm"}),Object(x.jsx)("th",{children:"Party"}),Object(x.jsx)("th",{children:"Date"}),Object(x.jsx)("th",{children:"Actions"})]})}),Object(x.jsx)("tbody",{children:this.state.data.map((function(e,s){return Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{children:[e.name,Object(x.jsx)("br",{}),"draft"===e.status&&0===e.permission?Object(x.jsx)("span",{className:"btn-danger btn-sm",children:"Rejected"}):null]}),Object(x.jsx)("td",{children:e.firm.toUpperCase()}),Object(x.jsx)("td",{children:e.party}),Object(x.jsx)("td",{children:new Date(e.date).toDateString()}),Object(x.jsx)("td",{className:"d-flex align-items-center justify-content-center",children:Object(x.jsxs)("div",{className:"btn-group btn-group-sm",role:"group",children:["draft"===e.status?Object(x.jsx)(d.c,{className:"btn btn-link",to:"/quotation/quick/edit/".concat(e.id),children:Object(x.jsx)("i",{className:"fa fa-edit"})}):null,"draft"===e.status?Object(x.jsx)(d.c,{className:"btn btn-link text-danger",to:"/quotation/quick/edit/".concat(e.id),children:Object(x.jsx)("i",{className:"fa fa-trash"})}):null,"request"===e.status?Object(x.jsxs)("button",{onClick:function(){E("Quotation No","please enter quotation no",[{text:"Close",onPress:function(t){return new Promise((function(t){t()}))}},{text:"Accept",onPress:function(s){return new Promise((function(c,a){s.length>3&&null!==s?(t.actionStatus(e.id,"accept",s),c()):a()}))}}],"default",null,["Quotation No"])},className:"btn btn-success",style:{width:"60px"},children:[Object(x.jsx)("i",{className:"fa fa-check-circle"})," Accept"]}):null,"!ready"===e.status?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(d.c,{className:"btn btn-warning btn-sm ",to:"/quotation/quick/edit/".concat(e.id),children:Object(x.jsx)("i",{className:"fa fa-print"})})}):null,"request"===e.status||"ready"===e.status||"submitted"===e.status?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(d.c,{className:"btn btn-secondary btn-sm ",to:"/quotation/quick/preview/".concat(e.id),children:Object(x.jsx)("i",{className:"fa fa-eye"})})}):null,"draft"===e.status&&1===e.permission?Object(x.jsxs)("button",{onClick:function(){t.actionStatus(e.id,"apply")},className:"btn btn-primary",style:{width:"60px"},children:[Object(x.jsx)("i",{className:"fa fa-check-circle"})," Apply"]}):null,"request"===e.status?Object(x.jsxs)("button",{onClick:function(){t.actionStatus(e.id,"reject")},className:"btn btn-danger",style:{width:"60px"},children:[Object(x.jsx)("i",{className:"fa fa-times-circle"})," Reject"]}):null,"ready"===e.status&&1===e.permission?Object(x.jsxs)("button",{className:"btn btn-success btn-sm ",onClick:function(){t.actionStatus(e.id,"submit")},style:{width:"60px"},children:[Object(x.jsx)("i",{className:"fa fa-check"})," Submit"]}):null,"!submitted"===e.status?Object(x.jsxs)("button",{className:"btn btn-success btn-sm m-1",children:[Object(x.jsx)("i",{className:"fa fa-check-circle"})," Approved"]}):null,"!submitted"===e.status?Object(x.jsxs)("button",{className:"btn btn-danger btn-sm m-1",children:[Object(x.jsx)("i",{className:"fa fa-times-circle"})," Disposed"]}):null]})})]})}))})]})}):Object(x.jsx)(x.Fragment,{children:"No Data"})]})}}]),s}(l.a.Component);A=Object(o.h)(A);e.default=function(){var t=Object(o.g)().path;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{exact:!0,path:t,component:w}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/quick/edit/:id"),component:O}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/quick/preview/:id"),component:I}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/draft"),children:Object(x.jsx)(A,{title:"Drafts",action:"draft"})}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/request"),children:Object(x.jsx)(A,{title:"Quotation Requests",action:"request"})}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/ready"),children:Object(x.jsx)(A,{title:"Print and Submit Quotations",action:"ready"})}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/submitted"),children:Object(x.jsx)(A,{title:"Submitted Quotations",action:"submitted"})}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/approved"),children:Object(x.jsx)(A,{title:"Approved Quotations",action:"approved"})}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/disposed"),children:Object(x.jsx)(A,{title:"Disposed Quotations",action:"disposed"})}),Object(x.jsx)(o.b,{exact:!0,path:"".concat(t,"/completed"),children:Object(x.jsx)(A,{title:"Disposed Quotations",action:"completed"})})]})})}}}]);