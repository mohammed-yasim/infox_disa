(this.webpackJsonpinfox=this.webpackJsonpinfox||[]).push([[5],{211:function(e,t,a){"use strict";a.r(t);var s=a(20),c=a(21),n=a(23),r=a(22),o=a(14),i=a(0),l=a.n(i),d=a(13),m=a(11),j=a(52),b=a(33),h=a(6),u=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).state={},c}return Object(c.a)(a,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"h3 mb-2 text-gray-800",children:Object(h.jsx)("i",{className:"fa fa-cog",children:" Settings"})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-xl-2 col-md-3 mb-4",children:Object(h.jsx)("div",{className:"card border-left-primary shadow h-100 py-2",children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)(d.b,{className:"text-decoration-none",to:"setting/users",children:Object(h.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(h.jsxs)("div",{className:"col mr-2",children:[Object(h.jsx)("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Users"}),Object(h.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:"1"})]}),Object(h.jsx)("div",{className:"col-auto",children:Object(h.jsx)("i",{className:"fas fa-users fa-2x text-gray-300"})})]})})})})})}),Object(h.jsxs)("div",{className:"card shadow mb-4",children:[Object(h.jsx)("div",{className:"card-header py-3",children:Object(h.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Basic"})}),Object(h.jsx)("div",{className:"card-body"})]})]})}}]),a}(l.a.Component);u.contextType=b.a;var O=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).state={},c}return Object(c.a)(a,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:"Profile"})}}]),a}(l.a.Component);O.contextType=b.a;var p=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).state={},c}return Object(c.a)(a,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:"Activity"})}}]),a}(l.a.Component);p.contextType=b.a;var x=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var c;return Object(s.a)(this,a),(c=t.call(this,e)).load_users_data=function(){j.a.get("/settings/users").then((function(e){c.setState({users_data:e.data})}))},c.OnFormChange=function(e){var t=c.state.formdata;t[e.target.getAttribute("name")]=e.target.value,c.setState({formdata:t})},c.addNewuser=function(e){e.preventDefault(),c.state.formdata.confirm_password===c.state.formdata.password?j.a.post("settings/users?action=add",c.state.formdata).then((function(e){var t=c.state.users_data;t.push(e.data),c.setState({users_data:t,formdata:{username:"",password:"",confirm_password:"",u_name:"",u_email:"",u_contact:"",u_type:""},modal:!1})})):o.b.fail("Password Not Matching")},c.state={modal:!1,users_data:[],formdata:{username:"",password:"",confirm_password:"",u_name:"",u_email:"",u_contact:"",u_type:""}},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.load_users_data()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-header",children:Object(h.jsx)("h6",{children:"All User"})}),Object(h.jsx)("div",{className:"card-body",children:Object(h.jsxs)("table",{className:"table table-sm table-responsive-sm table-striped",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"SINo."}),Object(h.jsx)("th",{children:"Type"}),Object(h.jsx)("th",{children:"Username"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{children:"Contact"}),Object(h.jsx)("th",{children:"actions"})]})}),Object(h.jsx)("tbody",{children:this.state.users_data.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{scope:"row",children:["\xa0\xa0",t+1,"\xa0\xa0"]}),Object(h.jsx)("td",{children:e.u_type}),Object(h.jsx)("td",{children:e.username}),Object(h.jsx)("td",{children:e.u_name}),Object(h.jsx)("td",{children:e.u_email}),Object(h.jsx)("td",{children:e.u_contact}),Object(h.jsxs)("td",{children:[1===e.active?Object(h.jsx)("button",{className:"btn btn-sm btn-warning m-2",children:"Deacivate"}):Object(h.jsx)("button",{className:"btn btn-sm btn-success mr-2",children:"Activate"}),0===e.active?Object(h.jsx)("button",{className:"btn btn-sm btn-danger m-2",children:"Suspend"}):null,Object(h.jsx)("button",{className:"btn btn-sm btn-info m-2",children:"Reset Password"})]})]},"user_"+t)}))})]})}),Object(h.jsx)("div",{className:"card-footer",children:Object(h.jsx)("button",{className:"btn btm-sm btn-primary",onClick:function(){e.setState({modal:!0})},children:Object(h.jsx)("i",{className:"fa fa-plus"})})})]}),Object(h.jsx)(o.a,{visible:this.state.modal,transparent:!0,title:"Add New User",footer:[{text:"Cancel",onPress:function(){e.setState({modal:!1})}}],children:Object(h.jsxs)("form",{onSubmit:this.addNewuser,children:[Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsxs)("select",{className:" form-control  form-control-sm",name:"u_type",value:this.state.formdata.u_type,onChange:this.OnFormChange,required:!0,children:[Object(h.jsx)("option",{value:"",disabled:!0,children:"User type"}),Object(h.jsx)("option",{value:"admin",children:"Admin"}),Object(h.jsx)("option",{value:"user",children:"User"}),Object(h.jsx)("option",{value:"root",children:"Root"})]})}),Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{className:" form-control  form-control-sm",placeholder:"Username",name:"username",value:this.state.formdata.username,onChange:this.OnFormChange,required:!0,type:"text",pattern:".{5,}",title:"At least 5 or more characters"})}),Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{className:" form-control  form-control-sm",placeholder:"Password",name:"password",value:this.state.formdata.password,onChange:this.OnFormChange,required:!0,type:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters"})}),Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{className:" form-control  form-control-sm",placeholder:"Confirm Password",name:"confirm_password",value:this.state.formdata.confirm_password,onChange:this.OnFormChange,required:!0,type:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters"})}),Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{className:" form-control  form-control-sm",placeholder:"Name",name:"u_name",value:this.state.formdata.u_name,onChange:this.OnFormChange,pattern:".{6,}",required:!0,type:"text",title:"minimum 6 characters"})}),Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{className:" form-control  form-control-sm",placeholder:"Email",name:"u_email",value:this.state.formdata.u_email,onChange:this.OnFormChange,required:!0,type:"email"})}),Object(h.jsx)("div",{className:"input-group mb-2",children:Object(h.jsx)("input",{className:" form-control  form-control-sm",placeholder:"Contact No",name:"u_contact",value:this.state.formdata.u_contact,onChange:this.OnFormChange,required:!0,type:"tel",pattern:"[0-9]{10}",title:"Enter a Valid Mobile Number "})}),Object(h.jsx)("button",{className:"btn btn-success btn-block btn-sm",children:"Add"})]})})]})}}]),a}(l.a.Component);x.contextType=b.a,u=Object(m.h)(u),O=Object(m.h)(O),p=Object(m.h)(p),x=Object(m.h)(x),t.default=function(){var e=Object(m.g)().path;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{exact:!0,path:e,component:u}),Object(h.jsx)(m.b,{path:"".concat(e,"/profile"),component:O}),Object(h.jsx)(m.b,{path:"".concat(e,"/activity"),component:p}),Object(h.jsx)(m.b,{path:"".concat(e,"/users"),component:x})]})})}}}]);